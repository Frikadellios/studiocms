var f=n=>n;function r(n){let i=[];if(n){for(let t of n)if(t){if(Array.isArray(t)){i.push(...r(t));continue}t instanceof Promise||i.push(t.name)}}return i}var a=({plugin:n,config:i})=>{if(!n||n instanceof Promise)return!1;let t=new Set(r(i?.vite?.plugins)),e=new Set;if(typeof n=="string"&&e.add(n),typeof n=="object")if(Array.isArray(n)){let o=new Set(r(n));for(let u of o)e.add(u)}else e.add(n.name);return[...e].some(o=>t.has(o))};function s(n,i){if(i){for(let t of i)if(t){if(Array.isArray(t)){s(n,t);continue}t instanceof Promise||n.add(t)}}return n}var l=f({name:"hasVitePlugin",hook:"astro:config:setup",implementation:n=>{let i=s(new Set,n.config.vite?.plugins),{updateConfig:t,config:e}=n;return n.updateConfig=o=>(e.vite.plugins=Array.from(s(i,o.vite?.plugins)),t(o)),o=>a({plugin:o,config:e})}});export{l as hasVitePluginPlugin};
//# sourceMappingURL=has-vite-plugin.js.map