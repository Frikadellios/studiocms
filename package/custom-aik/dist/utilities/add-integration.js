import"astro";import{AstroError as s}from"astro/errors";var g=({name:e,position:n,relativeTo:o,config:r})=>{let t=r.integrations.findIndex(i=>i.name===e);if(t===-1)return!1;if(n===void 0)return!0;if(o===void 0)throw new s("Cannot perform a relative integration check without a relative reference.","Pass `relativeTo` on your call to `hasIntegration` or remove the `position` option.");let a=r.integrations.findIndex(i=>i.name===o);if(a===-1)throw new s("Cannot check relative position against an absent integration.");return n==="before"?t<a:t>a};var u=({integration:e,options:n,updateConfig:o,config:r,logger:t})=>{if(n?.ensureUnique&&g({name:e.name,config:r})){t.warn(`Integration "${e.name}" has already been added by the user or another integration. Skipping.`);return}o({integrations:[e]})};export{u as addIntegration};
//# sourceMappingURL=add-integration.js.map